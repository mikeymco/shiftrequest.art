<script src="{{ '/assets/js/gallery-media-viewer.js' | relative_url }}"></script>

<div id="gallery-media-viewer" class="overlay gallery-media-viewer" role="dialog" aria-modal="true" aria-labelledby="viewer-caption" aria-hidden="true">
	<div class="gallery-media-viewer__content">
		<img id="gallery-media-viewer__image" class="gallery-media-viewer__image" src="" alt="" style="display: none;">
		<video id="gallery-media-viewer__video" class="gallery-media-viewer__video" controls preload="metadata" style="display: none;" aria-label="Gallery video">
			<source src="" type="">
			Your browser does not support the video tag.
		</video>
		<div class="gallery-media-loading-indicator" id="gallery-media-loading-indicator" aria-label="Loading content"></div>
		<div class="gallery-media-viewer__caption" id="gallery-media-viewer__caption"></div>
	</div>
	<button class="gallery-media-viewer__close" aria-label="Close gallery viewer">&times;</button>
	<button class="gallery-media-viewer__prev" aria-label="Previous image">&#8249;</button>
	<button class="gallery-media-viewer__next" aria-label="Next image">&#8250;</button>
</div>

<script>
	// Define gallery items for the viewer script
	var galleryImages = [
		{% for image in page.images %}
		{% include video_detection.liquid filename=image %}
		{
			thumb: 'thumbs/{% include thumbnail_path.liquid filename=image %}',
			src: '{{ image }}',
			caption: '{% if page.captions[image] %}{{ page.captions[image] | escape }}{% else %}Ask me about this work{% endif %}',
			isVideo: {% if is_video %}true{% else %}false{% endif %}
		}{% unless forloop.last %},{% endunless %}
		{% endfor %}
	];
</script>
