{% assign gallery_config = site.data.gallery.galleries[page.gallery] %}

{% if gallery_config.gallery_link %}
    {% assign target_gallery = site.data.gallery.galleries[gallery_config.gallery_link] %}
    {% if target_gallery.nsfw %}
    <a
        href="javascript:void(0)"
        class="gallery-tile gallery-tile--link gallery-link-tile gallery-link-tile--locked"
        role="gridcell"
        aria-label="Gallery link: {{ target_gallery.title }}"
    >
        <span class="gallery-lock-icon" aria-hidden="true"></span>
    </a>
    {% include gateway-access-code.html %}
    <script src="{{ '/assets/js/gateway-access-code.js' | relative_url }}"></script>
    {% else %}
    <a
        href="../{{ gallery_config.gallery_link }}/"
        class="gallery-tile gallery-tile--link gallery-link-tile"
        role="gridcell"
        aria-label="Link to {{ target_gallery.title }} gallery"
    >
        <span class="gallery-link-title">{{ target_gallery.title }}</span>
    </a>
    {% endif %}
{% endif %}
